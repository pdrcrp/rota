<!-- index.html -->
<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Percurso</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Preload das fontes -->
  <link rel="preload" href="assets/fonts/Aileron-Regular.otf" as="font" type="font/otf" crossorigin>
  <link rel="preload" href="assets/fonts/Simpsonfont%20DEMO.otf" as="font" type="font/otf" crossorigin>
</head>

<body class="header-hidden">
  <!-- HEADER -->
  <header class="globalbar" id="globalBar" aria-hidden="true">
    <div class="globalbar__inner">
      <div class="globalbar__left">
        <img class="globalbar__logo" src="assets/logo.png" alt="Postais por Lisboa" />
        <div class="globalbar__titles">
          <p class="globalbar__kicker" id="globalKicker">Postais por Lisboa</p>
          <h1 class="globalbar__title" id="globalTitle">Percurso</h1>
        </div>
      </div>

      <div class="globalbar__right">
        <button class="reset-btn" id="resetBtn" type="button">Recomeçar</button>

        <div class="lang">
          <button class="lang-btn header-lang-btn" data-lang="pt" aria-pressed="true">PT</button>
          <button class="lang-btn header-lang-btn" data-lang="en" aria-pressed="false">EN</button>
        </div>
      </div>
    </div>

    <div class="globalbar__progress">
      <p class="subtitle" id="progressText">Paragem 1 de 9</p>
      <div class="progressbar"><span id="progressBar"></span></div>
    </div>
  </header>

  <!-- OVERLAY -->
  <div class="scroll-overlay" id="scrollOverlay">
    <div class="scroll-overlay__card">
      <div class="scroll-overlay__top">
        <p class="scroll-overlay__title" id="overlayTitle">Bem vindo!</p>

        <div class="overlay-lang">
          <button class="lang-btn overlay-lang-btn" data-lang="pt" aria-pressed="true">PT</button>
          <button class="lang-btn overlay-lang-btn" data-lang="en" aria-pressed="false">EN</button>
        </div>
      </div>

      <p class="scroll-overlay__text" id="overlayText">
        Faz scroll para começares a descobrir o mapa
      </p>
      <div class="scroll-overlay__arrow">↓</div>
    </div>
  </div>

  <div class="chapters">
    <!-- INTRO -->
    <section class="intro chapter" id="intro">
      <div class="intro-sticky">
        <div class="intro-top">
          <div class="intro-copy">
            <h2 class="intro-title" id="introTitle">
              Segue a cidade<br/>paragem a paragem
            </h2>
            <p class="intro-sub" id="introSub">
              Ouve a história antes de entrar. Avança no percurso ao teu ritmo.
            </p>
          </div>
        </div>

        <div class="intro-visual">
          <div class="intro-map">
            <img class="layer l1" src="assets/intro/01-background.webp" alt="">
            <img class="layer l2" src="assets/intro/02-ruas.webp" alt="">
            <img class="layer l3" src="assets/intro/03-elementos.webp" alt="">
            <img class="layer l4" src="assets/intro/04-percurso.webp" alt="">
            <img class="layer l5" src="assets/intro/05-icones.webp" alt="">
            <img class="layer l6" src="assets/intro/06-nomes.webp" alt="">
          </div>
        </div>

        <!-- removido -->
      </div>
    </section>

    <!-- ROTA -->
    <section class="route chapter">
      <main class="route-wrap is-hidden" id="route">
        <section class="player">
          <div class="player-card">

            <!-- Linha principal -->
            <div class="player-top">
              <div class="player-meta">
                <p class="player-kicker" id="playerKicker">Paragem atual</p>
                <h3 class="player-title" id="playerTitle">—</h3>
              </div>

              <div class="player-controls">
                <button class="ctl" id="prevBtn">⟨</button>
                <button class="ctl play" id="playBtn">▶</button>
                <button class="ctl" id="nextBtn" disabled>⟩</button>
              </div>
            </div>

            <!-- ✅ Alternativo: só aparece nas paragens com alternativa -->
            <div class="player-choice" id="playerChoice" hidden>
              <button class="choice-btn choice-btn--single" id="choiceAltToggle" type="button" aria-pressed="false">
                Alternativa
              </button>
            </div>

            <div class="player-routebar">
              <span id="playerRouteBar"></span>
            </div>

            <div class="player-audiobar">
              <span id="playerAudioBar"></span>
            </div>

            <audio id="playerAudio"></audio>

            <div class="player-bottom">
              <p class="player-text" id="playerText"></p>
            </div>
          </div>
        </section>

        <footer class="route-footer" id="routeFooter">
          <div class="route-footer__line"></div>
          <p class="route-footer__copy" id="footerCopy">Postais por Lisboa</p>
        </footer>
      </main>
    </section>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
